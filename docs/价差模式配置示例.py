#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
价差模式配置示例

本文件展示了如何配置不同的价差模式来解决网格交易亏损问题。
请根据您的风险偏好和交易经验选择合适的配置。
"""

# ============================================================================
# 配置示例 1: 新手推荐 - 固定价差模式
# ============================================================================
"""
适用人群: 新手交易者、风险厌恶型用户
特点: 简单安全，避免复杂的库存管理
风险: 低
收益: 稳定但可能较低
"""

class BeginnerConfig:
    # 基础价差配置
    DEFAULT_BASE_SPREAD = 0.001      # 基础价差 0.1%
    DEFAULT_MIN_SPREAD = 0.0008      # 最小价差 0.08%
    DEFAULT_MAX_SPREAD = 0.003       # 最大价差 0.3%
    
    # 价差模式配置
    SPREAD_MODE = 'fixed'            # 固定价差模式
    
    # 其他配置保持默认
    INVENTORY_SAFE_THRESHOLD = 0.4
    INVENTORY_RISK_THRESHOLD = 0.7
    ENABLE_COST_PROTECTION = False
    MAX_LOSS_RATIO = 0.02
    MIN_PROFIT_RATIO = 0.001

# ============================================================================
# 配置示例 2: 进阶推荐 - 混合价差模式
# ============================================================================
"""
适用人群: 有一定交易经验的用户
特点: 平衡盈利能力和风险控制
风险: 中等
收益: 较好的风险收益比
"""

class IntermediateConfig:
    # 基础价差配置
    DEFAULT_BASE_SPREAD = 0.0008     # 基础价差 0.08%
    DEFAULT_MIN_SPREAD = 0.0006      # 最小价差 0.06%
    DEFAULT_MAX_SPREAD = 0.0025      # 最大价差 0.25%
    
    # 价差模式配置
    SPREAD_MODE = 'hybrid'           # 混合价差模式
    
    # 混合模式阈值配置
    INVENTORY_SAFE_THRESHOLD = 0.3   # 30%库存以下使用固定价差
    INVENTORY_RISK_THRESHOLD = 0.6   # 60%库存以上使用动态价差
    
    # 成本价保护（推荐启用）
    ENABLE_COST_PROTECTION = True    # 启用成本价保护
    MAX_LOSS_RATIO = 0.015          # 最大允许亏损1.5%
    MIN_PROFIT_RATIO = 0.0008       # 最小利润0.08%

# ============================================================================
# 配置示例 3: 专业配置 - 动态价差模式
# ============================================================================
"""
适用人群: 专业交易者、量化团队
特点: 完整的AS模型功能，最大化库存管理效率
风险: 高
收益: 潜在收益最高，但需要专业知识
"""

class ProfessionalConfig:
    # 基础价差配置
    DEFAULT_BASE_SPREAD = 0.0006     # 基础价差 0.06%
    DEFAULT_MIN_SPREAD = 0.0004      # 最小价差 0.04%
    DEFAULT_MAX_SPREAD = 0.002       # 最大价差 0.2%
    
    # 价差模式配置
    SPREAD_MODE = 'dynamic'          # 动态价差模式
    
    # 阈值配置（在动态模式下不使用，但保留配置）
    INVENTORY_SAFE_THRESHOLD = 0.4
    INVENTORY_RISK_THRESHOLD = 0.7
    
    # 成本价保护（可选）
    ENABLE_COST_PROTECTION = True    # 启用成本价保护
    MAX_LOSS_RATIO = 0.01           # 最大允许亏损1%
    MIN_PROFIT_RATIO = 0.0005       # 最小利润0.05%

# ============================================================================
# 配置示例 4: 保守配置 - 大价差固定模式
# ============================================================================
"""
适用人群: 极度风险厌恶型用户、大资金量用户
特点: 使用较大的固定价差，确保每笔交易都有足够利润
风险: 极低
收益: 稳定但较低，交易频率可能降低
"""

class ConservativeConfig:
    # 基础价差配置（使用较大价差）
    DEFAULT_BASE_SPREAD = 0.002      # 基础价差 0.2%
    DEFAULT_MIN_SPREAD = 0.0015      # 最小价差 0.15%
    DEFAULT_MAX_SPREAD = 0.005       # 最大价差 0.5%
    
    # 价差模式配置
    SPREAD_MODE = 'fixed'            # 固定价差模式
    
    # 其他配置
    INVENTORY_SAFE_THRESHOLD = 0.5
    INVENTORY_RISK_THRESHOLD = 0.8
    ENABLE_COST_PROTECTION = True    # 启用成本价保护
    MAX_LOSS_RATIO = 0.005          # 最大允许亏损0.5%
    MIN_PROFIT_RATIO = 0.0015       # 最小利润0.15%

# ============================================================================
# 配置示例 5: 激进配置 - 低阈值混合模式
# ============================================================================
"""
适用人群: 激进交易者、追求高频交易
特点: 使用较小的价差和较低的切换阈值
风险: 较高
收益: 高频交易，潜在收益较高
"""

class AggressiveConfig:
    # 基础价差配置（使用较小价差）
    DEFAULT_BASE_SPREAD = 0.0005     # 基础价差 0.05%
    DEFAULT_MIN_SPREAD = 0.0003      # 最小价差 0.03%
    DEFAULT_MAX_SPREAD = 0.0015      # 最大价差 0.15%
    
    # 价差模式配置
    SPREAD_MODE = 'hybrid'           # 混合价差模式
    
    # 混合模式阈值配置（更早切换到动态模式）
    INVENTORY_SAFE_THRESHOLD = 0.2   # 20%库存以下使用固定价差
    INVENTORY_RISK_THRESHOLD = 0.4   # 40%库存以上使用动态价差
    
    # 成本价保护
    ENABLE_COST_PROTECTION = True    # 启用成本价保护
    MAX_LOSS_RATIO = 0.02           # 最大允许亏损2%
    MIN_PROFIT_RATIO = 0.0003       # 最小利润0.03%

# ============================================================================
# 如何应用配置
# ============================================================================
"""
要应用上述配置，请按以下步骤操作：

1. 选择适合您的配置示例
2. 打开 config/config.py 文件
3. 在 TradeConfig 类中修改相应的参数
4. 重启交易程序

示例：
class TradeConfig:
    # 复制您选择的配置示例中的参数
    DEFAULT_BASE_SPREAD = 0.001
    SPREAD_MODE = 'fixed'
    # ... 其他参数

注意事项：
- 修改配置前请备份原始配置
- 建议先在模拟环境中测试新配置
- 根据实际交易结果调整参数
- 不同市场环境可能需要不同的配置
"""

# ============================================================================
# 参数调优建议
# ============================================================================
"""
1. 价差大小调优：
   - 价差太小：交易频繁但利润微薄，手续费压力大
   - 价差太大：利润丰厚但交易机会少
   - 建议：从0.1%开始，根据交易频率和盈利情况调整

2. 混合模式阈值调优：
   - INVENTORY_SAFE_THRESHOLD：建议在0.2-0.4之间
   - INVENTORY_RISK_THRESHOLD：建议在0.5-0.8之间
   - 两个阈值的差值建议不小于0.2，确保有足够的过渡空间

3. 成本价保护参数：
   - MAX_LOSS_RATIO：建议不超过0.03（3%）
   - MIN_PROFIT_RATIO：建议设置为手续费的2-3倍

4. 市场适应性：
   - 震荡市场：适合固定价差或混合模式
   - 趋势市场：可以考虑动态模式
   - 高波动市场：建议增大价差
   - 低波动市场：可以适当减小价差
"""
# 多交易对网格交易配置说明

## 概述

本程序现已支持同时在多个交易对上运行网格交易策略。每个交易对都有独立的配置参数，可以根据不同币种的特性进行个性化设置。

## 配置文件

配置文件位于 `config/symbols.json`，包含所有交易对的配置信息。

### 配置文件结构

```json
{
  "symbols": [
    {
      "symbol": "SOL/USDT:USDT",
      "enabled": true,
      "baseSpread": 0.001,
      "minSpread": 0.0008,
      "maxSpread": 0.003,
      "orderCoolDown": 0.1,
      "maxStockRadio": 0.25,
      "orderAmountRatio": 0.05
    }
  ]
}
```

### 参数说明

- **symbol**: 交易对名称（必填）
- **enabled**: 是否启用该交易对（true/false）
- **baseSpread**: 基础价差比例（默认0.001，即0.1%）
- **minSpread**: 最小价差比例（默认0.0008，即0.08%）
- **maxSpread**: 最大价差比例（默认0.003，即0.3%）
- **orderCoolDown**: 下单冷却时间（秒，默认0.1）
- **maxStockRadio**: 最大持仓比例（默认0.25，即25%）
- **orderAmountRatio**: 订单金额比例（默认0.05，即5%）

## 使用方法

### 1. 添加新的交易对

在 `config/symbols.json` 文件的 `symbols` 数组中添加新的配置对象：

```json
{
  "symbol": "ADA/USDT:USDT",
  "enabled": true,
  "baseSpread": 0.0015,
  "minSpread": 0.001,
  "maxSpread": 0.004,
  "orderCoolDown": 0.1,
  "maxStockRadio": 0.25,
  "orderAmountRatio": 0.05
}
```

### 2. 启用/禁用交易对

将 `enabled` 字段设置为 `true` 或 `false`：

```json
{
  "symbol": "DOGE/USDT:USDT",
  "enabled": false,  // 禁用该交易对
  ...
}
```

### 3. 调整交易参数

根据不同币种的波动性和流动性调整参数：

- **高波动性币种**：增大 `baseSpread`、`maxSpread`
- **低流动性币种**：增大 `orderCoolDown`
- **稳定币种**：减小 `baseSpread`、`minSpread`

## 运行程序

配置完成后，直接运行程序：

```bash
python main.py
```

程序会自动读取配置文件，并为每个启用的交易对创建独立的交易实例。

## 监控和日志

- 每个交易对都有独立的日志标识
- 可以通过日志区分不同交易对的运行状态
- 程序支持优雅关闭，会正确清理所有交易对的资源

## 注意事项

1. **资金管理**：确保账户有足够的资金支持所有启用的交易对
2. **风险控制**：不要同时启用过多交易对，避免资金过度分散
3. **参数调优**：建议先在测试环境中验证参数设置
4. **网络稳定性**：多交易对会增加网络请求，确保网络连接稳定

## 故障排除

- 如果配置文件不存在或格式错误，程序会使用默认配置（仅SOL/USDT:USDT）
- 单个交易对出现错误不会影响其他交易对的运行
- 程序支持热重启，修改配置后重启程序即可生效
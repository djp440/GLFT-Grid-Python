# 查询全部仓位

```
positions = await exchange.fetch_positions([symbolName], params={'productType': 'USDT-FUTURES'})
```

## 注意事项

1. 就算只查询一个交易对，也必须将交易对的名称用[]括起来
2. productType 必须正确填写，有以下几种类型

- USDT-FUTURES：U 本位合约
- COIN-FUTURES：币本位合约
- USDC-FUTURES：USDC 合约
- SUSDT-FUTURES：U 本位合约模拟盘
- SCOIN-FUTURES：币本位合约模拟盘
- SUSDC-FUTURES：USDC 合约模拟盘

## 返回结构体

```
[{'info': {'marginCoin': 'SUSDT', 'symbol': 'SBTCSUSDT', 'holdSide': 'long', 'openDelegateSize': '0', 'marginSize': '227.2346', 'available': '0.01', 'locked': '0', 'total': '0.01', 'leverage': '5', 'achievedProfits': '0', 'openPriceAvg': '113617.3', 'marginMode': 'crossed', 'posMode': 'hedge_mode', 'unrealizedPL': '0.225', 'liquidationPrice': '65031742.063478260869', 'keepMarginRate': '0.004', 'markPrice': '113639.8', 'marginRatio': '0.001747451267', 'breakEvenPrice': '113753.722613568141', 'totalFee': '', 'deductedFee': '0.6817038', 'grant': '', 'assetMode': 'single', 'autoMargin': 'off', 'takeProfit': '', 'stopLoss': '', 'takeProfitId': '', 'stopLossId': '', 'cTime': '1754214011739', 'uTime': '1754214011739'}, 'id': None, 'symbol': 'SBTC/SUSDT:SUSDT', 'notional': 1136.398, 'marginMode': 'cross', 'liquidationPrice': 65031742.06347826, 'entryPrice': 113617.3, 'unrealizedPnl': 0.225, 'realizedPnl': None, 'percentage': 0.09, 'contracts': 0.01, 'contractSize': 1, 'markPrice': 113639.8, 'lastPrice': None, 'side': 'long', 'hedged': True, 'timestamp': 1754214011739, 'datetime': '2025-08-03T09:40:11.739Z', 'lastUpdateTimestamp': None, 'maintenanceMargin': 5.2274308, 'maintenanceMarginPercentage': 0.004, 'collateral': None, 'initialMargin': 227.2346, 'initialMarginPercentage': 0.19996040119746777, 'leverage': 5.0, 'marginRatio': 0.001747451267, 'stopLossPrice': None, 'takeProfitPrice': None}, {'info': {'marginCoin': 'SUSDT', 'symbol': 'SBTCSUSDT', 'holdSide': 'short', 'openDelegateSize': '0', 'marginSize': '227.2416', 'available': '0.01', 'locked': '0', 'total': '0.01', 'leverage': '5', 'achievedProfits': '0', 'openPriceAvg': '113620.8', 'marginMode': 'crossed', 'posMode': 'hedge_mode', 'unrealizedPL': '-0.19', 'liquidationPrice': '65031742.063478260869', 'keepMarginRate': '0.004', 'markPrice': '113639.8', 'marginRatio': '0.001747451267', 'breakEvenPrice': '113484.536797921247', 'totalFee': '', 'deductedFee': '0.6817248', 'grant': '', 'assetMode': 'single', 'autoMargin': 'off', 'takeProfit': '', 'stopLoss': '', 'takeProfitId': '', 'stopLossId': '', 'cTime': '1754213528153', 'uTime': '1754213528153'}, 'id': None, 'symbol': 'SBTC/SUSDT:SUSDT', 'notional': 1136.398, 'marginMode': 'cross', 'liquidationPrice': 65031742.06347826, 'entryPrice': 113620.8, 'unrealizedPnl': -0.19, 'realizedPnl': None, 'percentage': -0.08, 'contracts': 0.01, 'contractSize': 1, 'markPrice': 113639.8, 'lastPrice': None, 'side': 'short', 'hedged': True, 'timestamp': 1754213528153, 'datetime': '2025-08-03T09:32:08.153Z', 'lastUpdateTimestamp': None, 'maintenanceMargin': 5.2274308, 'maintenanceMarginPercentage': 0.004, 'collateral': None, 'initialMargin': 227.2416, 'initialMarginPercentage': 0.19996656101119503, 'leverage': 5.0, 'marginRatio': 0.001747451267, 'stopLossPrice': None, 'takeProfitPrice': None}]
```

# 下单

```
order = await exchange.createOrder(
    symbol: str,
    type: OrderType,
    side: OrderSide,
    amount: float,
    price: Num = None,
    {
    "reduceOnly": reduceOnly,
    "hedged": True
    }
  )
```

## 注意事项

1. reduceOnly 代表是否只减仓，由于程序必须在双向持仓模式下运行，执行“平空”“平多”操作时，必须将 reduceOnly 设置为 True，而执行“开多”“开空”操作时，必须将 reduceOnly 设置为 False。
2. hedged 代表是否使用双向持仓模式，由于程序必须在双向持仓模式下运行，必须将 hedged 设置为 True。
3. type 可以设置为以下几种类型

- limit：限价单
- market：市价单
- stop：止损单
- stopLimit：止损限价单
- takeProfit：止盈单
- takeProfitLimit：止盈限价单
- trailingStop：跟踪止损单
- trailingStopLimit：跟踪止损限价单
  使用市价单时，price 参数可以设置为 None，程序会自动使用当前市场价格。

## 返回结构体

```
{'info': {'clientOid': '1335844108068626432', 'orderId': '1335844108056043522'}, 'id': '1335844108056043522', 'clientOrderId': '1335844108068626432', 'timestamp': None, 'datetime': None, 'lastTradeTimestamp': None, 'lastUpdateTimestamp': None, 'symbol': 'SBTC/SUSDT:SUSDT', 'type': None, 'side': None, 'price': None, 'amount': None, 'cost': None, 'average': None, 'filled': None, 'remaining': None, 'timeInForce': None, 'postOnly': None, 'reduceOnly': None, 'triggerPrice': None, 'takeProfitPrice': None, 'stopLossPrice': None, 'status': None, 'fee': None, 'trades': [], 'fees': [], 'stopPrice': None}
```
